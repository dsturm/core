(()=>{"use strict";function d(d){if("string"!=typeof d||!d)throw new Error("expected a non-empty string, got: "+d)}function e(d){if("number"!=typeof d)throw new Error("expected a number, got: "+d)}const u="emoji",t="keyvalue",n="favorites",o="tokens",r="count",c="group-order",i="eTag",f="url",a="skinTone",s="readonly",l="readwrite",b="skinUnicodes";function p(d){return function(d,e){const u=new Set,t=[];for(const n of d){const d=e(n);u.has(d)||(u.add(d),t.push(n))}return t}(d,(d=>d.unicode))}const h={},m={},g={};function y(d,e,u){u.onerror=()=>e(u.error),u.onblocked=()=>e(new Error("IDB blocked")),u.onsuccess=()=>d(u.result)}async function v(d){const e=await new Promise(((e,i)=>{const f=indexedDB.open(d,1);h[d]=f,f.onupgradeneeded=d=>{d.oldVersion<1&&function(d){function e(e,u,t){const n=u?d.createObjectStore(e,{keyPath:u}):d.createObjectStore(e);if(t)for(const[d,[e,u]]of Object.entries(t))n.createIndex(d,e,{multiEntry:u});return n}e(t),e(u,"unicode",{[o]:["tokens",!0],[c]:[["group","order"]],[b]:["skinUnicodes",!0]}),e(n,void 0,{[r]:[""]})}(f.result)},y(e,i,f)}));return e.onclose=()=>j(d),e}function w(d,e,u,t){return new Promise(((n,o)=>{const r=d.transaction(e,u,{durability:"relaxed"}),c="string"==typeof e?r.objectStore(e):e.map((d=>r.objectStore(d)));let i;t(c,r,(d=>{i=d})),r.oncomplete=()=>n(i),r.onerror=()=>o(r.error)}))}function j(d){const e=h[d],u=e&&e.result;if(u){u.close();const e=g[d];if(e)for(const d of e)d()}delete h[d],delete m[d],delete g[d]}const k=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function $(d){return d.split(/[\s_]+/).map((d=>!d.match(/\w/)||k.has(d)?d.toLowerCase():d.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}function x(d){return d.filter(Boolean).map((d=>d.toLowerCase())).filter((d=>d.length>=2))}function _(d,e,u,t){d[e](u).onsuccess=d=>t&&t(d.target.result)}function E(d,e,u){_(d,"get",e,u)}function S(d,e,u){_(d,"getAll",e,u)}function C(d){d.commit&&d.commit()}function O(d,e){const u=function(d,e){let u=d[0];for(let t=1;t<d.length;t++){const n=d[t];e(u)>e(n)&&(u=n)}return u}(d,(d=>d.length)),t=[];for(const n of u)d.some((d=>-1===d.findIndex((d=>e(d)===e(n)))))||t.push(n);return t}async function T(d,e,n,o){try{const r=function(d){return d.map((({annotation:d,emoticon:e,group:u,order:t,shortcodes:n,skins:o,tags:r,emoji:c,version:i})=>{const f=[...new Set(x([...(n||[]).map($).flat(),...r.map($).flat(),...$(d),e]))].sort(),a={annotation:d,group:u,order:t,tags:r,tokens:f,unicode:c,version:i};if(e&&(a.emoticon=e),n&&(a.shortcodes=n),o){a.skinTones=[],a.skinUnicodes=[],a.skinVersions=[];for(const{tone:d,emoji:e,version:u}of o)a.skinTones.push(d),a.skinUnicodes.push(e),a.skinVersions.push(u)}return a}))}(e);await w(d,[u,t],l,(([d,e],u)=>{let t,c,a=0;function s(){2==++a&&function(){if(t===o&&c===n)return;d.clear();for(const e of r)d.put(e);e.put(o,i),e.put(n,f),C(u)}()}E(e,i,(d=>{t=d,s()})),E(e,f,(d=>{c=d,s()}))}))}finally{}}async function z(d,e){const t=x($(e));return t.length?w(d,u,s,((d,e,u)=>{const n=[],r=()=>{const d=O(n,(d=>d.unicode));u(d.sort(((d,e)=>d.order<e.order?-1:1)))};for(let e=0;e<t.length;e++){const u=t[e],c=e===t.length-1?IDBKeyRange.bound(u,u+"￿",!1,!0):IDBKeyRange.only(u);S(d.index(o),c,(d=>{n.push(d),n.length===t.length&&r()}))}})):[]}async function A(d,e){const t=await z(d,e);if(!t.length){const t=d=>(d.shortcodes||[]).includes(e.toLowerCase());return await async function(d,e){return w(d,u,s,((d,u,t)=>{let n;const o=()=>{d.getAll(n&&IDBKeyRange.lowerBound(n,!0),50).onsuccess=d=>{const u=d.target.result;for(const d of u)if(n=d.unicode,e(d))return t(d);if(u.length<50)return t();o()}};o()}))}(d,t)||null}return t.filter((d=>{const u=(d.shortcodes||[]).map((d=>d.toLowerCase()));return u.includes(e.toLowerCase())}))[0]||null}function L(d,e,u){return w(d,e,s,((d,e,t)=>E(d,u,t)))}const P=["name","url"];function D(d){!function(d){const e=d&&Array.isArray(d),u=e&&d.length&&(!d[0]||P.some((e=>!(e in d[0]))));if(!e||u)throw new Error("Custom emojis are in the wrong format")}(d);const e=(d,e)=>d.name.toLowerCase()<e.name.toLowerCase()?-1:1,u=d.sort(e),t=function(d,e){const u=new Map;for(const t of d){const d=e(t);for(const e of d){let d=u;for(let u=0;u<e.length;u++){const t=e.charAt(u);let n=d.get(t);n||(n=new Map,d.set(t,n)),d=n}let n=d.get("");n||(n=[],d.set("",n)),n.push(t)}}return(d,e)=>{let t=u;for(let e=0;e<d.length;e++){const u=d.charAt(e),n=t.get(u);if(!n)return[];t=n}if(e)return t.get("")||[];const n=[],o=[t];for(;o.length;){const d=[...o.shift().entries()].sort(((d,e)=>d[0]<e[0]?-1:1));for(const[e,u]of d)""===e?n.push(...u):o.push(u)}return n}}(d,(d=>[...new Set((d.shortcodes||[]).map((d=>$(d))).flat())])),n=d=>t(d,!0),o=d=>t(d,!1),r=new Map,c=new Map;for(const e of d){c.set(e.name.toLowerCase(),e);for(const d of e.shortcodes||[])r.set(d.toLowerCase(),e)}return{all:u,search:d=>{const u=$(d);return O(u.map(((d,e)=>(e<u.length-1?n:o)(d))),(d=>d.name)).sort(e)},byShortcode:d=>r.get(d.toLowerCase()),byName:d=>c.get(d.toLowerCase())}}function N(d){if(!d)return d;if(delete d.tokens,d.skinTones){const e=d.skinTones.length;d.skins=Array(e);for(let u=0;u<e;u++)d.skins[u]={tone:d.skinTones[u],unicode:d.skinUnicodes[u],version:d.skinVersions[u]};delete d.skinTones,delete d.skinUnicodes,delete d.skinVersions}return d}function B(d){d||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const R=["annotation","emoji","group","order","tags","version"];function M(d,e){if(2!==Math.floor(d.status/100))throw new Error("Failed to fetch: "+e+":  "+d.status)}async function U(d){const e=await fetch(d);M(e,d);const u=e.headers.get("etag");B(u);const t=await e.json();return function(d){if(!d||!Array.isArray(d)||!d[0]||"object"!=typeof d[0]||R.some((e=>!(e in d[0]))))throw new Error("Emoji data is in the wrong format")}(t),[u,t]}async function I(d){const e=function(d){for(var e=d.length,u=new ArrayBuffer(e),t=new Uint8Array(u),n=-1;++n<e;)t[n]=d.charCodeAt(n);return u}(JSON.stringify(d)),u=function(d){for(var e="",u=new Uint8Array(d),t=u.byteLength,n=-1;++n<t;)e+=String.fromCharCode(u[n]);return e}(await crypto.subtle.digest("SHA-1",e));return btoa(u)}async function F(d,e){let u,n=await async function(d){const e=await fetch(d,{method:"HEAD"});M(e,d);const u=e.headers.get("etag");return B(u),u}(e);if(!n){const d=await U(e);n=d[0],u=d[1],n||(n=await I(u))}if(await async function(d,e,u){const[n,o]=await Promise.all([i,f].map((e=>L(d,t,e))));return n===u&&o===e}(d,e,n));else{if(!u){u=(await U(e))[1]}await T(d,u,e,n)}}class V{constructor({dataSource:d="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:e="en",customEmoji:u=[]}={}){this.dataSource=d,this.locale=e,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=D(u),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const d=this._db=await(e=this._dbName,m[e]||(m[e]=v(e)),m[e]);var e;!function(d,e){let u=g[d];u||(u=g[d]=[]),u.push(e)}(this._dbName,this._clear);const u=this.dataSource,n=await async function(d){return!await L(d,t,f)}(d);n?await async function(d,e){let[u,t]=await U(e);u||(u=await I(t)),await T(d,t,e,u)}(d,u):this._lazyUpdate=F(d,u)}async ready(){const d=async()=>(this._ready||(this._ready=this._init()),this._ready);await d(),this._db||await d()}async getEmojiByGroup(d){return e(d),await this.ready(),p(await async function(d,e){return w(d,u,s,((d,u,t)=>{const n=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);S(d.index(c),n,t)}))}(this._db,d)).map(N)}async getEmojiBySearchQuery(e){d(e),await this.ready();return[...this._custom.search(e),...p(await z(this._db,e)).map(N)]}async getEmojiByShortcode(e){d(e),await this.ready();const u=this._custom.byShortcode(e);return u||N(await A(this._db,e))}async getEmojiByUnicodeOrName(e){d(e),await this.ready();const t=this._custom.byName(e);return t||N(await async function(d,e){return w(d,u,s,((d,u,t)=>E(d,e,(u=>{if(u)return t(u);E(d.index(b),e,(d=>t(d||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await L(this._db,t,a)||0}async setPreferredSkinTone(d){return e(d),await this.ready(),u=this._db,n=a,o=d,w(u,t,l,((d,e)=>{d.put(o,n),C(e)}));var u,n,o}async incrementFavoriteEmojiCount(e){return d(e),await this.ready(),u=this._db,t=e,w(u,n,l,((d,e)=>E(d,t,(u=>{d.put((u||0)+1,t),C(e)}))));var u,t}async getTopFavoriteEmoji(d){return e(d),await this.ready(),(await function(d,e,t){return 0===t?[]:w(d,[n,u],s,(([d,u],n,o)=>{const c=[];d.index(r).openCursor(void 0,"prev").onsuccess=d=>{const n=d.target.result;if(!n)return o(c);function r(d){if(c.push(d),c.length===t)return o(c);n.continue()}const i=n.primaryKey,f=e.byName(i);if(f)return r(f);E(u,i,(d=>{if(d)return r(d);n.continue()}))}}))}(this._db,this._custom,d)).map(N)}set customEmoji(d){this._custom=D(d)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(d){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await j(this._dbName)}async delete(){var d;await this._shutdown(),await(d=this._dbName,new Promise(((e,u)=>{j(d),y(e,u,indexedDB.deleteDatabase(d))})))}}function q(){}function X(d){return d()}function K(){return Object.create(null)}function W(d){d.forEach(X)}function H(d){return"function"==typeof d}function J(d,e){return d!=d?e==e:d!==e||d&&"object"==typeof d||"function"==typeof d}let G,Y;function Q(d,e){return G||(G=document.createElement("a")),G.href=e,d===G.href}function Z(d,e){d.appendChild(e)}function dd(d,e,u){d.insertBefore(e,u||null)}function ed(d){d.parentNode.removeChild(d)}function ud(d){return document.createElement(d)}function td(d){return document.createTextNode(d)}function nd(d,e,u,t){return d.addEventListener(e,u,t),()=>d.removeEventListener(e,u,t)}function od(d,e,u){null==u?d.removeAttribute(e):d.getAttribute(e)!==u&&d.setAttribute(e,u)}function rd(d,e){e=""+e,d.wholeText!==e&&(d.data=e)}function cd(d,e){d.value=null==e?"":e}function id(d,e,u,t){null===u?d.style.removeProperty(e):d.style.setProperty(e,u,t?"important":"")}function fd(d){Y=d}const ad=[],sd=[],ld=[],bd=[],pd=Promise.resolve();let hd=!1;function md(){hd||(hd=!0,pd.then(wd))}function gd(d){ld.push(d)}const yd=new Set;let vd=0;function wd(){const d=Y;do{for(;vd<ad.length;){const d=ad[vd];vd++,fd(d),jd(d.$$)}for(fd(null),ad.length=0,vd=0;sd.length;)sd.pop()();for(let d=0;d<ld.length;d+=1){const e=ld[d];yd.has(e)||(yd.add(e),e())}ld.length=0}while(ad.length);for(;bd.length;)bd.pop()();hd=!1,yd.clear(),fd(d)}function jd(d){if(null!==d.fragment){d.update(),W(d.before_update);const e=d.dirty;d.dirty=[-1],d.fragment&&d.fragment.p(d.ctx,e),d.after_update.forEach(gd)}}const kd=new Set;const $d="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function xd(d,e){d.d(1),e.delete(d.key)}function _d(d,e,u,t,n,o,r,c,i,f,a,s){let l=d.length,b=o.length,p=l;const h={};for(;p--;)h[d[p].key]=p;const m=[],g=new Map,y=new Map;for(p=b;p--;){const d=s(n,o,p),c=u(d);let i=r.get(c);i?t&&i.p(d,e):(i=f(c,d),i.c()),g.set(c,m[p]=i),c in h&&y.set(c,Math.abs(p-h[c]))}const v=new Set,w=new Set;function j(d){!function(d,e){d&&d.i&&(kd.delete(d),d.i(e))}(d,1),d.m(c,a),r.set(d.key,d),a=d.first,b--}for(;l&&b;){const e=m[b-1],u=d[l-1],t=e.key,n=u.key;e===u?(a=e.first,l--,b--):g.has(n)?!r.has(t)||v.has(t)?j(e):w.has(n)?l--:y.get(t)>y.get(n)?(w.add(t),j(e)):(v.add(n),l--):(i(u,r),l--)}for(;l--;){const e=d[l];g.has(e.key)||i(e,r)}for(;b;)j(m[b-1]);return m}function Ed(d,e,u,t,n,o,r,c=[-1]){const i=Y;fd(d);const f=d.$$={fragment:null,ctx:null,props:o,update:q,not_equal:n,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:K(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};r&&r(f.root);let a=!1;f.ctx=u?u(d,e.props||{},((e,u,...t)=>{const o=t.length?t[0]:u;return f.ctx&&n(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),a&&function(d,e){-1===d.$$.dirty[0]&&(ad.push(d),md(),d.$$.dirty.fill(0)),d.$$.dirty[e/31|0]|=1<<e%31}(d,e)),u})):[],f.update(),a=!0,W(f.before_update),f.fragment=!!t&&t(f.ctx),e.target&&(f.fragment&&f.fragment.c(),function(d,e,u,t){const{fragment:n,on_mount:o,on_destroy:r,after_update:c}=d.$$;n&&n.m(e,u),t||gd((()=>{const e=o.map(X).filter(H);r?r.push(...e):W(e),d.$$.on_mount=[]})),c.forEach(gd)}(d,e.target,void 0,void 0),wd()),fd(i)}class Sd{$destroy(){!function(d,e){const u=d.$$;null!==u.fragment&&(W(u.on_destroy),u.fragment&&u.fragment.d(e),u.on_destroy=u.fragment=null,u.ctx=[])}(this,1),this.$destroy=q}$on(d,e){const u=this.$$.callbacks[d]||(this.$$.callbacks[d]=[]);return u.push(e),()=>{const d=u.indexOf(e);-1!==d&&u.splice(d,1)}}$set(d){var e;this.$$set&&(e=d,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(d),this.$$.skip_bound=!1)}}const Cd=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([d,e,u])=>({id:d,emoji:e,name:u}))),Od=Cd.slice(1),Td=Cd[0],zd="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function Ad(d){return d.unicode.includes("‍")}const Ld={"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},Pd=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Dd='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Nd=(d,e)=>d<e?-1:d>e?1:0,Bd=(d,e)=>{const u=document.createElement("canvas");u.width=u.height=1;const t=u.getContext("2d");return t.textBaseline="top",t.font=`100px ${Dd}`,t.fillStyle=e,t.scale(.01,.01),t.fillText(d,0,0),t.getImageData(0,0,1,1).data};function Rd(d){const e=Bd(d,"#000"),u=Bd(d,"#fff");return e&&u&&((d,e)=>{const u=[...d].join(",");return u===[...e].join(",")&&!u.startsWith("0,0,0,")})(e,u)}const Md=new Promise((d=>zd((()=>d(function(){const d=Object.entries(Ld);try{for(const[e,u]of d)if(Rd(e))return u}catch(d){}return d[0][1]}()))))),Ud=new Map;function Id(d){d.preventDefault(),d.stopPropagation()}function Fd(d,e,u){return(e+=d?-1:1)<0?e=u.length-1:e>=u.length&&(e=0),e}function Vd(d,e){const u=new Set,t=[];for(const n of d){const d=e(n);u.has(d)||(u.add(d),t.push(n))}return t}const qd=requestAnimationFrame;let Xd,Kd="function"==typeof ResizeObserver;function Wd(d){{const e=document.createRange();return e.selectNode(d.firstChild),e.getBoundingClientRect().width}}const{Map:Hd}=$d;function Jd(d,e,u){const t=d.slice();return t[63]=e[u],t[65]=u,t}function Gd(d,e,u){const t=d.slice();return t[66]=e[u],t[65]=u,t}function Yd(d,e,u){const t=d.slice();return t[63]=e[u],t[65]=u,t}function Qd(d,e,u){const t=d.slice();return t[69]=e[u],t}function Zd(d,e,u){const t=d.slice();return t[72]=e[u],t[65]=u,t}function de(d,e){let u,t,n,o,r,c,i,f=e[72]+"";return{key:d,first:null,c(){u=ud("div"),t=td(f),od(u,"id",n="skintone-"+e[65]),od(u,"class",o="emoji hide-focus "+(e[65]===e[20]?"active":"")),od(u,"aria-selected",r=e[65]===e[20]),od(u,"role","option"),od(u,"title",c=e[0].skinTones[e[65]]),od(u,"tabindex","-1"),od(u,"aria-label",i=e[0].skinTones[e[65]]),this.first=u},m(d,e){dd(d,u,e),Z(u,t)},p(d,a){e=d,512&a[0]&&f!==(f=e[72]+"")&&rd(t,f),512&a[0]&&n!==(n="skintone-"+e[65])&&od(u,"id",n),1049088&a[0]&&o!==(o="emoji hide-focus "+(e[65]===e[20]?"active":""))&&od(u,"class",o),1049088&a[0]&&r!==(r=e[65]===e[20])&&od(u,"aria-selected",r),513&a[0]&&c!==(c=e[0].skinTones[e[65]])&&od(u,"title",c),513&a[0]&&i!==(i=e[0].skinTones[e[65]])&&od(u,"aria-label",i)},d(d){d&&ed(u)}}}function ee(d,e){let u,t,n,o,r,c,i,f,a,s=e[69].emoji+"";function l(){return e[49](e[69])}return{key:d,first:null,c(){u=ud("button"),t=ud("div"),n=td(s),od(t,"class","nav-emoji emoji"),od(u,"role","tab"),od(u,"class","nav-button"),od(u,"aria-controls",o="tab-"+e[69].id),od(u,"aria-label",r=e[0].categories[e[69].name]),od(u,"aria-selected",c=!e[4]&&e[13].id===e[69].id),od(u,"title",i=e[0].categories[e[69].name]),this.first=u},m(d,e){dd(d,u,e),Z(u,t),Z(t,n),f||(a=nd(u,"click",l),f=!0)},p(d,t){e=d,4096&t[0]&&s!==(s=e[69].emoji+"")&&rd(n,s),4096&t[0]&&o!==(o="tab-"+e[69].id)&&od(u,"aria-controls",o),4097&t[0]&&r!==(r=e[0].categories[e[69].name])&&od(u,"aria-label",r),12304&t[0]&&c!==(c=!e[4]&&e[13].id===e[69].id)&&od(u,"aria-selected",c),4097&t[0]&&i!==(i=e[0].categories[e[69].name])&&od(u,"title",i)},d(d){d&&ed(u),f=!1,a()}}}function ue(d){let e,u;return{c(){e=ud("img"),od(e,"class","custom-emoji"),Q(e.src,u=d[63].url)||od(e,"src",u),od(e,"alt",""),od(e,"loading","lazy")},m(d,u){dd(d,e,u)},p(d,t){32768&t[0]&&!Q(e.src,u=d[63].url)&&od(e,"src",u)},d(d){d&&ed(e)}}}function te(d){let e,u=d[27](d[63],d[8])+"";return{c(){e=td(u)},m(d,u){dd(d,e,u)},p(d,t){33024&t[0]&&u!==(u=d[27](d[63],d[8])+"")&&rd(e,u)},d(d){d&&ed(e)}}}function ne(d,e){let u,t,n,o,r,c,i;function f(d,e){return d[63].unicode?te:ue}let a=f(e),s=a(e);return{key:d,first:null,c(){u=ud("button"),s.c(),od(u,"role",t=e[4]?"option":"menuitem"),od(u,"aria-selected",n=e[4]?e[65]==e[5]:""),od(u,"aria-label",o=e[28](e[63],e[8])),od(u,"title",r=e[63].title),od(u,"class",c="emoji "+(e[4]&&e[65]===e[5]?"active":"")),od(u,"id",i="emo-"+e[63].id),this.first=u},m(d,e){dd(d,u,e),s.m(u,null)},p(d,l){a===(a=f(e=d))&&s?s.p(e,l):(s.d(1),s=a(e),s&&(s.c(),s.m(u,null))),16&l[0]&&t!==(t=e[4]?"option":"menuitem")&&od(u,"role",t),32816&l[0]&&n!==(n=e[4]?e[65]==e[5]:"")&&od(u,"aria-selected",n),33024&l[0]&&o!==(o=e[28](e[63],e[8]))&&od(u,"aria-label",o),32768&l[0]&&r!==(r=e[63].title)&&od(u,"title",r),32816&l[0]&&c!==(c="emoji "+(e[4]&&e[65]===e[5]?"active":""))&&od(u,"class",c),32768&l[0]&&i!==(i="emo-"+e[63].id)&&od(u,"id",i)},d(d){d&&ed(u),s.d()}}}function oe(d,e){let u,t,n,o,r,c,i,f,a=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"",s=[],l=new Hd,b=e[66].emojis;const p=d=>d[63].id;for(let d=0;d<b.length;d+=1){let u=Yd(e,b,d),t=p(u);l.set(t,s[d]=ne(t,u))}return{key:d,first:null,c(){u=ud("div"),t=td(a),r=ud("div");for(let d=0;d<s.length;d+=1)s[d].c();od(u,"id",n="menu-label-"+e[65]),od(u,"class",o="category "+(1===e[15].length&&""===e[15][0].category?"gone":"")),od(u,"aria-hidden","true"),od(r,"class","emoji-menu"),od(r,"role",c=e[4]?"listbox":"menu"),od(r,"aria-labelledby",i="menu-label-"+e[65]),od(r,"id",f=e[4]?"search-results":""),this.first=u},m(d,e){dd(d,u,e),Z(u,t),dd(d,r,e);for(let d=0;d<s.length;d+=1)s[d].m(r,null)},p(d,h){e=d,40977&h[0]&&a!==(a=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"")&&rd(t,a),32768&h[0]&&n!==(n="menu-label-"+e[65])&&od(u,"id",n),32768&h[0]&&o!==(o="category "+(1===e[15].length&&""===e[15][0].category?"gone":""))&&od(u,"class",o),402686256&h[0]&&(b=e[66].emojis,s=_d(s,h,p,1,e,b,l,r,xd,ne,null,Yd)),16&h[0]&&c!==(c=e[4]?"listbox":"menu")&&od(r,"role",c),32768&h[0]&&i!==(i="menu-label-"+e[65])&&od(r,"aria-labelledby",i),16&h[0]&&f!==(f=e[4]?"search-results":"")&&od(r,"id",f)},d(d){d&&ed(u),d&&ed(r);for(let d=0;d<s.length;d+=1)s[d].d()}}}function re(d){let e,u;return{c(){e=ud("img"),od(e,"class","custom-emoji"),Q(e.src,u=d[63].url)||od(e,"src",u),od(e,"alt",""),od(e,"loading","lazy")},m(d,u){dd(d,e,u)},p(d,t){1024&t[0]&&!Q(e.src,u=d[63].url)&&od(e,"src",u)},d(d){d&&ed(e)}}}function ce(d){let e,u=d[27](d[63],d[8])+"";return{c(){e=td(u)},m(d,u){dd(d,e,u)},p(d,t){1280&t[0]&&u!==(u=d[27](d[63],d[8])+"")&&rd(e,u)},d(d){d&&ed(e)}}}function ie(d,e){let u,t,n,o;function r(d,e){return d[63].unicode?ce:re}let c=r(e),i=c(e);return{key:d,first:null,c(){u=ud("button"),i.c(),od(u,"role","menuitem"),od(u,"aria-label",t=e[28](e[63],e[8])),od(u,"title",n=e[63].title),od(u,"class","emoji"),od(u,"id",o="fav-"+e[63].id),this.first=u},m(d,e){dd(d,u,e),i.m(u,null)},p(d,f){c===(c=r(e=d))&&i?i.p(e,f):(i.d(1),i=c(e),i&&(i.c(),i.m(u,null))),1280&f[0]&&t!==(t=e[28](e[63],e[8]))&&od(u,"aria-label",t),1024&f[0]&&n!==(n=e[63].title)&&od(u,"title",n),1024&f[0]&&o!==(o="fav-"+e[63].id)&&od(u,"id",o)},d(d){d&&ed(u),i.d()}}}function fe(d){let e,u,t,n,o,r,c,i,f,a,s,l,b,p,h,m,g,y,v,w,j,k,$,x,_,E,S,C,O,T,z,A,L,P,D,N,B,R,M,U,I,F,V,X,K=d[0].searchLabel+"",J=d[0].searchDescription+"",G=d[0].skinToneDescription+"",Y=[],Q=new Hd,fd=[],ad=new Hd,sd=[],ld=new Hd,bd=[],pd=new Hd,hd=d[9];const md=d=>d[72];for(let e=0;e<hd.length;e+=1){let u=Zd(d,hd,e),t=md(u);Q.set(t,Y[e]=de(t,u))}let gd=d[12];const yd=d=>d[69].id;for(let e=0;e<gd.length;e+=1){let u=Qd(d,gd,e),t=yd(u);ad.set(t,fd[e]=ee(t,u))}let vd=d[15];const wd=d=>d[66].category;for(let e=0;e<vd.length;e+=1){let u=Gd(d,vd,e),t=wd(u);ld.set(t,sd[e]=oe(t,u))}let jd=d[10];const kd=d=>d[63].id;for(let e=0;e<jd.length;e+=1){let u=Jd(d,jd,e),t=kd(u);pd.set(t,bd[e]=ie(t,u))}return{c(){e=ud("section"),u=ud("div"),t=ud("div"),n=ud("div"),o=ud("input"),f=ud("label"),a=td(K),s=ud("span"),l=td(J),b=ud("div"),p=ud("button"),h=td(d[21]),y=ud("span"),v=td(G),w=ud("div");for(let d=0;d<Y.length;d+=1)Y[d].c();_=ud("div");for(let d=0;d<fd.length;d+=1)fd[d].c();S=ud("div"),C=ud("div"),O=ud("div"),T=td(d[18]),A=ud("div"),L=ud("div");for(let d=0;d<sd.length;d+=1)sd[d].c();R=ud("div");for(let d=0;d<bd.length;d+=1)bd[d].c();I=ud("button"),I.textContent="😀",od(u,"class","pad-top"),od(o,"id","search"),od(o,"class","search"),od(o,"type","search"),od(o,"role","combobox"),od(o,"enterkeyhint","search"),od(o,"placeholder",r=d[0].searchLabel),od(o,"autocapitalize","none"),od(o,"autocomplete","off"),od(o,"spellcheck","true"),od(o,"aria-expanded",c=!(!d[4]||!d[1].length)),od(o,"aria-controls","search-results"),od(o,"aria-describedby","search-description"),od(o,"aria-autocomplete","list"),od(o,"aria-activedescendant",i=d[26]?`emo-${d[26]}`:""),od(f,"class","sr-only"),od(f,"for","search"),od(s,"id","search-description"),od(s,"class","sr-only"),od(n,"class","search-wrapper"),od(p,"id","skintone-button"),od(p,"class",m="emoji "+(d[6]?"hide-focus":"")),od(p,"aria-label",d[23]),od(p,"title",d[23]),od(p,"aria-describedby","skintone-description"),od(p,"aria-haspopup","listbox"),od(p,"aria-expanded",d[6]),od(p,"aria-controls","skintone-list"),od(b,"class",g="skintone-button-wrapper "+(d[19]?"expanded":"")),od(y,"id","skintone-description"),od(y,"class","sr-only"),od(w,"id","skintone-list"),od(w,"class",j="skintone-list "+(d[6]?"":"hidden no-animate")),id(w,"transform","translateY("+(d[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),od(w,"role","listbox"),od(w,"aria-label",k=d[0].skinTonesLabel),od(w,"aria-activedescendant",$="skintone-"+d[20]),od(w,"aria-hidden",x=!d[6]),od(t,"class","search-row"),od(_,"class","nav"),od(_,"role","tablist"),id(_,"grid-template-columns","repeat("+d[12].length+", 1fr)"),od(_,"aria-label",E=d[0].categoriesLabel),od(C,"class","indicator"),id(C,"transform","translateX("+(d[24]?-1:1)*d[11]*100+"%)"),od(S,"class","indicator-wrapper"),od(O,"class",z="message "+(d[18]?"":"gone")),od(O,"role","alert"),od(O,"aria-live","polite"),od(A,"class",P="tabpanel "+(!d[14]||d[18]?"gone":"")),od(A,"role",D=d[4]?"region":"tabpanel"),od(A,"aria-label",N=d[4]?d[0].searchResultsLabel:d[0].categories[d[13].name]),od(A,"id",B=d[4]?"":`tab-${d[13].id}`),od(A,"tabindex","0"),od(R,"class",M="favorites emoji-menu "+(d[18]?"gone":"")),od(R,"role","menu"),od(R,"aria-label",U=d[0].favoritesLabel),id(R,"padding-inline-end",d[25]+"px"),od(I,"aria-hidden","true"),od(I,"tabindex","-1"),od(I,"class","abs-pos hidden emoji"),od(e,"class","picker"),od(e,"aria-label",F=d[0].regionLabel),od(e,"style",d[22])},m(r,c){dd(r,e,c),Z(e,u),Z(e,t),Z(t,n),Z(n,o),cd(o,d[2]),Z(n,f),Z(f,a),Z(n,s),Z(s,l),Z(t,b),Z(b,p),Z(p,h),Z(t,y),Z(y,v),Z(t,w);for(let d=0;d<Y.length;d+=1)Y[d].m(w,null);d[48](w),Z(e,_);for(let d=0;d<fd.length;d+=1)fd[d].m(_,null);Z(e,S),Z(S,C),Z(e,O),Z(O,T),Z(e,A),Z(A,L);for(let d=0;d<sd.length;d+=1)sd[d].m(L,null);d[50](A),Z(e,R);for(let d=0;d<bd.length;d+=1)bd[d].m(R,null);var i;Z(e,I),d[51](I),d[52](e),V||(X=[nd(o,"input",d[47]),nd(o,"keydown",d[30]),nd(p,"click",d[35]),nd(w,"focusout",d[38]),nd(w,"click",d[34]),nd(w,"keydown",d[36]),nd(w,"keyup",d[37]),nd(_,"keydown",d[32]),(i=d[29].call(null,L),i&&H(i.destroy)?i.destroy:q),nd(A,"click",d[33]),nd(R,"click",d[33])],V=!0)},p(d,u){1&u[0]&&r!==(r=d[0].searchLabel)&&od(o,"placeholder",r),18&u[0]&&c!==(c=!(!d[4]||!d[1].length))&&od(o,"aria-expanded",c),67108864&u[0]&&i!==(i=d[26]?`emo-${d[26]}`:"")&&od(o,"aria-activedescendant",i),4&u[0]&&cd(o,d[2]),1&u[0]&&K!==(K=d[0].searchLabel+"")&&rd(a,K),1&u[0]&&J!==(J=d[0].searchDescription+"")&&rd(l,J),2097152&u[0]&&rd(h,d[21]),64&u[0]&&m!==(m="emoji "+(d[6]?"hide-focus":""))&&od(p,"class",m),8388608&u[0]&&od(p,"aria-label",d[23]),8388608&u[0]&&od(p,"title",d[23]),64&u[0]&&od(p,"aria-expanded",d[6]),524288&u[0]&&g!==(g="skintone-button-wrapper "+(d[19]?"expanded":""))&&od(b,"class",g),1&u[0]&&G!==(G=d[0].skinToneDescription+"")&&rd(v,G),1049089&u[0]&&(hd=d[9],Y=_d(Y,u,md,1,d,hd,Q,w,xd,de,null,Zd)),64&u[0]&&j!==(j="skintone-list "+(d[6]?"":"hidden no-animate"))&&od(w,"class",j),64&u[0]&&id(w,"transform","translateY("+(d[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),1&u[0]&&k!==(k=d[0].skinTonesLabel)&&od(w,"aria-label",k),1048576&u[0]&&$!==($="skintone-"+d[20])&&od(w,"aria-activedescendant",$),64&u[0]&&x!==(x=!d[6])&&od(w,"aria-hidden",x),12305&u[0]|1&u[1]&&(gd=d[12],fd=_d(fd,u,yd,1,d,gd,ad,_,xd,ee,null,Qd)),4096&u[0]&&id(_,"grid-template-columns","repeat("+d[12].length+", 1fr)"),1&u[0]&&E!==(E=d[0].categoriesLabel)&&od(_,"aria-label",E),16779264&u[0]&&id(C,"transform","translateX("+(d[24]?-1:1)*d[11]*100+"%)"),262144&u[0]&&rd(T,d[18]),262144&u[0]&&z!==(z="message "+(d[18]?"":"gone"))&&od(O,"class",z),402694449&u[0]&&(vd=d[15],sd=_d(sd,u,wd,1,d,vd,ld,L,xd,oe,null,Gd)),278528&u[0]&&P!==(P="tabpanel "+(!d[14]||d[18]?"gone":""))&&od(A,"class",P),16&u[0]&&D!==(D=d[4]?"region":"tabpanel")&&od(A,"role",D),8209&u[0]&&N!==(N=d[4]?d[0].searchResultsLabel:d[0].categories[d[13].name])&&od(A,"aria-label",N),8208&u[0]&&B!==(B=d[4]?"":`tab-${d[13].id}`)&&od(A,"id",B),402654464&u[0]&&(jd=d[10],bd=_d(bd,u,kd,1,d,jd,pd,R,xd,ie,null,Jd)),262144&u[0]&&M!==(M="favorites emoji-menu "+(d[18]?"gone":""))&&od(R,"class",M),1&u[0]&&U!==(U=d[0].favoritesLabel)&&od(R,"aria-label",U),33554432&u[0]&&id(R,"padding-inline-end",d[25]+"px"),1&u[0]&&F!==(F=d[0].regionLabel)&&od(e,"aria-label",F),4194304&u[0]&&od(e,"style",d[22])},i:q,o:q,d(u){u&&ed(e);for(let d=0;d<Y.length;d+=1)Y[d].d();d[48](null);for(let d=0;d<fd.length;d+=1)fd[d].d();for(let d=0;d<sd.length;d+=1)sd[d].d();d[50](null);for(let d=0;d<bd.length;d+=1)bd[d].d();d[51](null),d[52](null),V=!1,W(X)}}}function ae(d,e,u){let t,n,o,r,c,i,f,a,s,l,{skinToneEmoji:b}=e,{i18n:p}=e,{database:h}=e,{customEmoji:m}=e,{customCategorySorting:g}=e,y=[],v=[],w="",j="",k=!1,$=-1,x=!1,_=!1,E=0,S=0,C="",O=[],T=[],z=8,A=!1,L=0,P=0,D=Od,N=!1;const B=d=>{t.getRootNode().getElementById(d).focus()},R=(d,e)=>{t.dispatchEvent(new CustomEvent(d,{detail:e,bubbles:!0,composed:!0}))},M=(d,e)=>e&&d.skins&&d.skins[e]||d.unicode,U=d=>/^skintone-/.test(d.id);function I(d){const e=t.getRootNode();!function(d,e,u){for(const t of d){const d=Wd(u(t));void 0===Xd&&(Xd=Wd(e));const n=d/1.8<Xd;Ud.set(t.unicode,n)}}(d,n,(d=>e.getElementById(`emo-${d.id}`))),u(1,y)}function F(d){return!d.unicode||!Ad(d)||Ud.get(d.unicode)}async function V(d){const e=await Md;return d.filter((({version:d})=>!d||d<=e))}async function q(d){return function(d,e){const u=d=>{const u={};for(const t of d)"number"==typeof t.tone&&t.version<=e&&(u[t.tone]=t.unicode);return u};return d.map((({unicode:d,skins:e,shortcodes:t,url:n,name:o,category:r})=>({unicode:d,name:o,shortcodes:t,url:n,category:r,id:d||o,skins:e&&u(e),title:(t||[]).join(", ")})))}(d,await Md)}function X(d){u(2,w=""),u(44,j=""),u(5,$=-1),u(11,P=D.findIndex((e=>e.id===d.id)))}async function K(d){const e=await h.getEmojiByUnicodeOrName(d),u=[...y,...T].find((e=>e.id===d)),t=u.unicode&&M(u,E);await h.incrementFavoriteEmojiCount(d),R("emoji-click",{emoji:e,skinTone:E,...t&&{unicode:t},...u.name&&{name:u.name}})}async function W(d){const{target:e}=d;if(!U(e))return;Id(d);const t=parseInt(e.id.slice(9),10);u(8,E=t),u(6,x=!1),B("skintone-button"),R("skin-tone-change",{skinTone:t}),h.setPreferredSkinTone(t)}Md.then((d=>{d||u(18,r=p.emojiUnsupportedMessage)}));return d.$$set=d=>{"skinToneEmoji"in d&&u(40,b=d.skinToneEmoji),"i18n"in d&&u(0,p=d.i18n),"database"in d&&u(39,h=d.database),"customEmoji"in d&&u(41,m=d.customEmoji),"customCategorySorting"in d&&u(42,g=d.customCategorySorting)},d.$$.update=()=>{if(1280&d.$$.dirty[1]&&m&&h&&u(39,h.customEmoji=m,h),1&d.$$.dirty[0]|256&d.$$.dirty[1]){async function e(){let d=!1;const e=setTimeout((()=>{d=!0,u(18,r=p.loadingMessage)}),1e3);try{await h.ready(),u(14,N=!0)}catch(d){console.error(d),u(18,r=p.networkErrorMessage)}finally{clearTimeout(e),d&&(d=!1,u(18,r=""))}}h&&e()}if(6144&d.$$.dirty[0]|1024&d.$$.dirty[1]&&(m&&m.length?u(12,D=[Td,...Od]):D!==Od&&(P&&u(11,P--,P),u(12,D=Od))),4&d.$$.dirty[0]&&zd((()=>{u(44,j=(w||"").trim()),u(5,$=-1)})),6144&d.$$.dirty[0]&&u(13,s=D[P]),24576&d.$$.dirty[0]|8192&d.$$.dirty[1]){async function t(){if(N){if(j.length>=2){const d=j,e=await async function(d){return q(await V(await h.getEmojiBySearchQuery(d)))}(d);d===j&&(u(1,y=e),u(4,k=!0))}else if(s){const d=s.id,e=await async function(d){if(void 0===d)return[];const e=-1===d?m:await h.getEmojiByGroup(d);return q(await V(e))}(d);d===s.id&&(u(1,y=e),u(4,k=!1))}}else u(1,y=[]),u(4,k=!1)}t()}if(4112&d.$$.dirty[0]&&u(22,f=`\n  --font-family: ${Dd};\n  --num-groups: ${D.length}; \n  --indicator-opacity: ${k?0:1}; \n  --num-skintones: 6;`),16384&d.$$.dirty[0]|256&d.$$.dirty[1]){async function n(){N&&u(8,E=await h.getPreferredSkinTone())}n()}if(512&d.$$.dirty[1]&&u(9,O=Array(6).fill().map(((d,e)=>function(d,e){if(0===e)return d;const u=d.indexOf("‍");return-1!==u?d.substring(0,u)+String.fromCodePoint(127995+e-1)+d.substring(u):(d.endsWith("️")&&(d=d.substring(0,d.length-1)),d+"\ud83c"+String.fromCodePoint(57339+e-1))}(b,e)))),768&d.$$.dirty[0]&&u(21,i=O[E]),257&d.$$.dirty[0]&&u(23,C=p.skinToneLabel.replace("{skinTone}",p.skinTones[E])),16384&d.$$.dirty[0]|256&d.$$.dirty[1]){async function S(){u(45,a=(await Promise.all(Pd.map((d=>h.getEmojiByUnicodeOrName(d))))).filter(Boolean))}N&&S()}if(16384&d.$$.dirty[0]|49408&d.$$.dirty[1]){async function A(){const d=await h.getTopFavoriteEmoji(z),e=await q(Vd([...d,...a],(d=>d.unicode||d.name)).slice(0,z));u(10,T=e)}N&&a&&A()}if(10&d.$$.dirty[0]){const L=y.filter((d=>d.unicode)).filter((d=>Ad(d)&&!Ud.has(d.unicode)));L.length?qd((()=>I(L))):(u(1,y=y.filter(F)),qd((()=>{(o||{}).scrollTop=0})))}if(d.$$.dirty[0],d.$$.dirty[1],18&d.$$.dirty[0]|2048&d.$$.dirty[1]){function B(){if(k)return[{category:"",emojis:y}];const d=new Map;for(const e of y){const u=e.category||"";let t=d.get(u);t||(t=[],d.set(u,t)),t.push(e)}return[...d.entries()].map((([d,e])=>({category:d,emojis:e}))).sort(((d,e)=>g(d.category,e.category)))}u(15,v=B())}34&d.$$.dirty[0]&&u(26,l=-1!==$&&y[$].id),192&d.$$.dirty[0]&&(x?c.addEventListener("transitionend",(()=>{u(19,_=!0)}),{once:!0}):u(19,_=!1))},[p,y,w,o,k,$,x,c,E,O,T,P,D,s,N,v,t,n,r,_,S,i,f,C,A,L,l,M,(d,e)=>{return(u=[d.name||M(d,e),...d.shortcodes||[]],Vd(u,(d=>d))).join(", ");var u},function(d){return function(d,e){let u;return Kd?(u=new ResizeObserver((d=>e(d[0].contentRect.width))),u.observe(d)):qd((()=>e(d.getBoundingClientRect().width))),{destroy(){u&&u.disconnect()}}}(d,(e=>{{const n=getComputedStyle(t),o=parseInt(n.getPropertyValue("--num-columns"),10),r="rtl"===n.getPropertyValue("direction"),c=d.parentElement.getBoundingClientRect().width-e;u(46,z=o),u(25,L=c),u(24,A=r)}}))},function(d){if(!k||!y.length)return;const e=e=>{Id(d),u(5,$=Fd(e,$,y))};switch(d.key){case"ArrowDown":return e(!1);case"ArrowUp":return e(!0);case"Enter":if(-1!==$)return Id(d),K(y[$].id);y.length&&u(5,$=0)}},X,function(d){const{target:e,key:u}=d,t=e=>{e&&(Id(d),e.focus())};switch(u){case"ArrowLeft":return t(e.previousSibling);case"ArrowRight":return t(e.nextSibling);case"Home":return t(e.parentElement.firstChild);case"End":return t(e.parentElement.lastChild)}},async function(d){const{target:e}=d;if(!e.classList.contains("emoji"))return;Id(d),K(e.id.substring(4))},W,async function(d){u(6,x=!x),u(20,S=E),x&&(Id(d),qd((()=>B(`skintone-${S}`))))},function(d){if(!x)return;const e=async e=>{Id(d),u(20,S=e),await(md(),pd),B(`skintone-${S}`)};switch(d.key){case"ArrowUp":return e(Fd(!0,S,O));case"ArrowDown":return e(Fd(!1,S,O));case"Home":return e(0);case"End":return e(O.length-1);case"Enter":return W(d);case"Escape":return Id(d),u(6,x=!1),B("skintone-button")}},function(d){if(x)return" "===d.key?W(d):void 0},async function(d){const{relatedTarget:e}=d;e&&U(e)||u(6,x=!1)},h,b,m,g,!0,j,a,z,function(){w=this.value,u(2,w)},function(d){sd[d?"unshift":"push"]((()=>{c=d,u(7,c)}))},d=>X(d),function(d){sd[d?"unshift":"push"]((()=>{o=d,u(3,o)}))},function(d){sd[d?"unshift":"push"]((()=>{n=d,u(17,n)}))},function(d){sd[d?"unshift":"push"]((()=>{t=d,u(16,t)}))}]}class se extends Sd{constructor(d){super(),Ed(this,d,ae,fe,J,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}var le={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const be=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class pe extends HTMLElement{constructor(d){super(),this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(e),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:Nd,customEmoji:null,i18n:le,...d};for(const d of be)"database"!==d&&Object.prototype.hasOwnProperty.call(this,d)&&(this._ctx[d]=this[d],delete this[d]);this._dbFlush()}connectedCallback(){this._cmp=new se({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:d}=this._ctx;d&&d.close().catch((d=>console.error(d)))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(d,e,u){this._set(d.replace(/-([a-z])/g,((d,e)=>e.toUpperCase())),u)}_set(d,e){this._ctx[d]=e,this._cmp&&this._cmp.$set({[d]:e}),["locale","dataSource"].includes(d)&&this._dbFlush()}_dbCreate(){const{locale:d,dataSource:e,database:u}=this._ctx;u&&u.locale===d&&u.dataSource===e||this._set("database",new V({locale:d,dataSource:e}))}_dbFlush(){Promise.resolve().then((()=>this._dbCreate()))}}const he={};for(const d of be)he[d]={get(){return"database"===d&&this._dbCreate(),this._ctx[d]},set(e){if("database"===d)throw new Error("database is read-only");this._set(d,e)}};Object.defineProperties(pe.prototype,he),customElements.get("emoji-picker")||customElements.define("emoji-picker",pe);function me(d){return d.replace(/(?:[_-])([a-z0-9])/g,((d,e)=>e.toUpperCase()))}function ge(d){return d.charAt(0).toUpperCase()+d.slice(1)}function ye(d){return d.replace(/([A-Z])/g,((d,e)=>`-${e.toLowerCase()}`))}function ve(d,e){const u=je(d);return Array.from(u.reduce(((d,u)=>(function(d,e){const u=d[e];return Array.isArray(u)?u:[]}(u,e).forEach((e=>d.add(e))),d)),new Set))}function we(d,e){return je(d).reduce(((d,u)=>(d.push(...function(d,e){const u=d[e];return u?Object.keys(u).map((d=>[d,u[d]])):[]}(u,e)),d)),[])}function je(d){const e=[];for(;d;)e.push(d),d=Object.getPrototypeOf(d);return e.reverse()}"function"==typeof Object.getOwnPropertySymbols||Object.getOwnPropertyNames,(()=>{function d(d){function e(){return Reflect.construct(d,arguments,new.target)}return e.prototype=Object.create(d.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,d),e}try{(function(){const e=d((function(){this.a.call(this)}));e.prototype.a=function(){},new e})()}catch(d){return d=>class extends d{}}})();function ke([d,e],u){return function(d){const e=`${ye(d.token)}-value`,u=function(d){const e=function(d){const e=$e(d.typeObject.type);if(!e)return;const u=xe(d.typeObject.default);if(e!==u){const t=d.controller?`${d.controller}.${d.token}`:d.token;throw new Error(`The specified default value for the Stimulus Value "${t}" must match the defined type "${e}". The provided default value of "${d.typeObject.default}" is of type "${u}".`)}return e}({controller:d.controller,token:d.token,typeObject:d.typeDefinition}),u=xe(d.typeDefinition),t=$e(d.typeDefinition),n=e||u||t;if(n)return n;const o=d.controller?`${d.controller}.${d.typeDefinition}`:d.token;throw new Error(`Unknown value type "${o}" for "${d.token}" value`)}(d);return{type:u,key:e,name:me(e),get defaultValue(){return function(d){const e=$e(d);if(e)return _e[e];const u=d.default;return void 0!==u?u:d}(d.typeDefinition)},get hasCustomDefaultValue(){return void 0!==xe(d.typeDefinition)},reader:Ee[u],writer:Se[u]||Se.default}}({controller:u,token:d,typeDefinition:e})}function $e(d){switch(d){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function xe(d){switch(typeof d){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(d)?"array":"[object Object]"===Object.prototype.toString.call(d)?"object":void 0}const _e={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Ee={array(d){const e=JSON.parse(d);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${d}" of type "${xe(e)}"`);return e},boolean:d=>!("0"==d||"false"==String(d).toLowerCase()),number:d=>Number(d),object(d){const e=JSON.parse(d);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${d}" of type "${xe(e)}"`);return e},string:d=>d},Se={default:function(d){return`${d}`},array:Ce,object:Ce};function Ce(d){return JSON.stringify(d)}class Oe{constructor(d){this.context=d}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(d,{target:e=this.element,detail:u={},prefix:t=this.identifier,bubbles:n=!0,cancelable:o=!0}={}){const r=new CustomEvent(t?`${t}:${d}`:d,{detail:u,bubbles:n,cancelable:o});return e.dispatchEvent(r),r}}Oe.blessings=[function(d){return ve(d,"classes").reduce(((d,e)=>{return Object.assign(d,{[`${u=e}Class`]:{get(){const{classes:d}=this;if(d.has(u))return d.get(u);{const e=d.getAttributeName(u);throw new Error(`Missing attribute "${e}"`)}}},[`${u}Classes`]:{get(){return this.classes.getAll(u)}},[`has${ge(u)}Class`]:{get(){return this.classes.has(u)}}});var u}),{})},function(d){return ve(d,"targets").reduce(((d,e)=>{return Object.assign(d,{[`${u=e}Target`]:{get(){const d=this.targets.find(u);if(d)return d;throw new Error(`Missing target element "${u}" for "${this.identifier}" controller`)}},[`${u}Targets`]:{get(){return this.targets.findAll(u)}},[`has${ge(u)}Target`]:{get(){return this.targets.has(u)}}});var u}),{})},function(d){const e=we(d,"values"),u={valueDescriptorMap:{get(){return e.reduce(((d,e)=>{const u=ke(e,this.identifier),t=this.data.getAttributeNameForKey(u.key);return Object.assign(d,{[t]:u})}),{})}}};return e.reduce(((d,e)=>Object.assign(d,function(d,e){const u=ke(d,e),{key:t,name:n,reader:o,writer:r}=u;return{[n]:{get(){const d=this.data.get(t);return null!==d?o(d):u.defaultValue},set(d){void 0===d?this.data.delete(t):this.data.set(t,r(d))}},[`has${ge(n)}`]:{get(){return this.data.has(t)||u.hasCustomDefaultValue}}}}(e))),u)}],Oe.targets=[],Oe.values={};const Te=function(){var d={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(d){var e="string"==typeof d?parseInt(d,16):d;if(e<65536)return c(e);return c(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:g},onerror:function(){this.parentNode&&this.parentNode.replaceChild(i(this.alt,!1),this)},parse:function(e,u){u&&"function"!=typeof u||(u={callback:u});return("string"==typeof e?b:l)(e,{callback:u.callback||f,attributes:"function"==typeof u.attributes?u.attributes:h,base:"string"==typeof u.base?u.base:d.base,ext:u.ext||d.ext,size:u.folder||(t=u.size||d.size,"number"==typeof t?t+"x"+t:t),className:u.className||d.className,onerror:u.onerror||d.onerror});var t},replace:m,test:function(d){u.lastIndex=0;var e=u.test(d);return u.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},u=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,t=/\uFE0F/g,n=String.fromCharCode(8205),o=/[&<>'"]/g,r=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,c=String.fromCharCode;return d;function i(d,e){return document.createTextNode(e?d.replace(t,""):d)}function f(d,e){return"".concat(e.base,e.size,"/",d,e.ext)}function a(d,e){for(var u,t,n=d.childNodes,o=n.length;o--;)3===(t=(u=n[o]).nodeType)?e.push(u):1!==t||"ownerSVGElement"in u||r.test(u.nodeName.toLowerCase())||a(u,e);return e}function s(d){return g(d.indexOf(n)<0?d.replace(t,""):d)}function l(d,e){for(var t,n,o,r,c,f,l,b,p,h,m,g,y,v=a(d,[]),w=v.length;w--;){for(o=!1,r=document.createDocumentFragment(),f=(c=v[w]).nodeValue,b=0;l=u.exec(f);){if((p=l.index)!==b&&r.appendChild(i(f.slice(b,p),!0)),g=s(m=l[0]),b=p+m.length,y=e.callback(g,e),g&&y){for(n in(h=new Image).onerror=e.onerror,h.setAttribute("draggable","false"),t=e.attributes(m,g))t.hasOwnProperty(n)&&0!==n.indexOf("on")&&!h.hasAttribute(n)&&h.setAttribute(n,t[n]);h.className=e.className,h.alt=m,h.src=y,o=!0,r.appendChild(h)}h||r.appendChild(i(m,!1)),h=null}o&&(b<f.length&&r.appendChild(i(f.slice(b),!0)),c.parentNode.replaceChild(r,c))}return d}function b(d,e){return m(d,(function(d){var u,t,n=d,r=s(d),c=e.callback(r,e);if(r&&c){for(t in n="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',d,'"',' src="',c,'"'),u=e.attributes(d,r))u.hasOwnProperty(t)&&0!==t.indexOf("on")&&-1===n.indexOf(" "+t+"=")&&(n=n.concat(" ",t,'="',u[t].replace(o,p),'"'));n=n.concat("/>")}return n}))}function p(d){return e[d]}function h(){return null}function m(d,e){return String(d).replace(u,e)}function g(d,e){for(var u=[],t=0,n=0,o=0;o<d.length;)t=d.charCodeAt(o++),n?(u.push((65536+(n-55296<<10)+(t-56320)).toString(16)),n=0):55296<=t&&t<=56319?n=t:u.push(t.toString(16));return u.join(e||"-")}}();function ze(d){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},ze(d)}function Ae(d,e){var u="undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!u){if(Array.isArray(d)||(u=function(d,e){if(!d)return;if("string"==typeof d)return Le(d,e);var u=Object.prototype.toString.call(d).slice(8,-1);"Object"===u&&d.constructor&&(u=d.constructor.name);if("Map"===u||"Set"===u)return Array.from(d);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Le(d,e)}(d))||e&&d&&"number"==typeof d.length){u&&(d=u);var t=0,n=function(){};return{s:n,n:function(){return t>=d.length?{done:!0}:{done:!1,value:d[t++]}},e:function(d){throw d},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){u=u.call(d)},n:function(){var d=u.next();return r=d.done,d},e:function(d){c=!0,o=d},f:function(){try{r||null==u.return||u.return()}finally{if(c)throw o}}}}function Le(d,e){(null==e||e>d.length)&&(e=d.length);for(var u=0,t=new Array(e);u<e;u++)t[u]=d[u];return t}function Pe(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function")}function De(d,e){for(var u=0;u<e.length;u++){var t=e[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(d,t.key,t)}}function Ne(d,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,e){return d.__proto__=e,d},Ne(d,e)}function Be(d){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(d){return!1}}();return function(){var u,t=Me(d);if(e){var n=Me(this).constructor;u=Reflect.construct(t,arguments,n)}else u=t.apply(this,arguments);return Re(this,u)}}function Re(d,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d)}function Me(d){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},Me(d)}var Ue=function(d){!function(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&Ne(d,e)}(o,d);var e,u,t,n=Be(o);function o(){return Pe(this,o),n.apply(this,arguments)}return e=o,(u=[{key:"connect",value:function(){var d=this.element.querySelector("emoji-picker"),e=d.shadowRoot;d.addEventListener("focusout",(function(d){return d.stopPropagation()})),this.element.addEventListener("open",(function(){var d;null===(d=e.querySelector("input"))||void 0===d||d.focus()}));var u=document.createElement("style");u.textContent=".twemoji {\n          width: var(--emoji-size);\n          height: var(--emoji-size);\n          pointer-events: none;\n        }",e.appendChild(u),Waterhole.twemojiBase&&new MutationObserver((function(){var d,u=Ae(e.querySelectorAll(".emoji"));try{for(u.s();!(d=u.n()).done;){var t=d.value;t.querySelector(".twemoji")||Te.parse(t,{base:Waterhole.twemojiBase,className:"twemoji"})}}catch(d){u.e(d)}finally{u.f()}})).observe(e,{subtree:!0,childList:!0})}}])&&De(e.prototype,u),t&&De(e,t),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oe);window.Stimulus.register("emoji-picker",Ue)})();